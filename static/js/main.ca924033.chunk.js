(this["webpackJsonpsnake-react"]=this["webpackJsonpsnake-react"]||[]).push([[0],{29:function(e,n,t){},30:function(e,n,t){},31:function(e,n,t){},33:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),c=t(10),a=t.n(c),i=(t(29),t(8)),u=(t(30),t(20)),s=t(14),l=t(21),f=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"createRandomInt",value:function(e,n){return Math.floor(Math.random()*n+e)}},{key:"suffulArray",value:function(e){for(var n,t,r=e.length;0!==r;)t=Math.floor(Math.random()*r),n=e[r-=1],e[r]=e[t],e[t]=n;return e}}]),e}(),d=(t(31),t(4)),j=function(e){var n=e.value,t=e.dir,r="cell ";return"snakePart"===n?r="".concat(r," snakePart ").concat(O(t)):n&&(r="".concat(r," ").concat(n)),Object(d.jsx)("td",{className:r})},O=function(e){switch(e){case p.DOWON:return"dir-down";case p.UP:return"dir-up";case p.LEFT:return"dir-left";case p.RIGHT:default:return"dir-right"}},b=function(e){for(var n=e.boardSize,t=e.foods,r=e.snake,o=new Array(n).fill(0,0,n-1),c=0;c<o.length;c++)o[c]=new Array(n).fill(0,0,n-1);t.forEach((function(e){o[e.row][e.colm]=e})),r.forEach((function(e){o[e.row][e.colm]=e}));var a=function(e,n){return e.map((function(e,t){return Object(d.jsx)(j,{value:e.value,dir:e.dir},"".concat(n," - ").concat(t))}))};return Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{children:o.map((function(e,n){return Object(d.jsx)("tr",{children:a(e,n)},n)}))})})},h=t(41),m=t(42),v=t(43),x=(t(33),[{questionText:"\u05dc\u05da \u05d0\u05dc \u05d4\u05e0\u05de\u05dc\u05d4 \u05e2\u05e6\u05dc ...",options:["\u05e8\u05d0\u05d4 \u05d0\u05ea \u05d3\u05e8\u05db\u05d9\u05d4 \u05d5\u05e9\u05d1 \u05d1\u05e6\u05dc","\u05d5\u05ea\u05d7\u05d6\u05d5\u05e8 \u05de\u05dc\u05d0 \u05de\u05e8\u05e5","\u05e8\u05d0\u05d4 \u05d0\u05ea \u05d3\u05e8\u05db\u05d9\u05d4 \u05d5\u05db\u05d7\u05dd"],answerIndex:2},{questionText:"\u05db\u05de\u05d4 \u05e8\u05d2\u05dc\u05d9\u05dd \u05d9\u05e9 \u05dc\u05e0\u05de\u05dc\u05d4",options:["\u05e9\u05ea\u05d9 \u05e8\u05d2\u05dc\u05d9\u05dd \u05d4\u05e9\u05d0\u05e8 \u05d9\u05d3\u05d9\u05d9\u05dd","\u05e9\u05de\u05d5\u05e0\u05d4 \u05e8\u05d2\u05dc\u05d9\u05dd \u05db\u05de\u05d5 \u05dc\u05e2\u05db\u05d1\u05d9\u05e9","\u05e9\u05d9\u05e9\u05d4 \u05e8\u05d2\u05dc\u05d9\u05dd "],answerIndex:2},{questionText:"\u05d4\u05d0\u05dd \u05e0\u05de\u05dc\u05d4 \u05de\u05e7\u05d9\u05de\u05d4 \u05e7\u05df \u05dc\u05d9\u05d3 \u05de\u05e7\u05d5\u05d3\u05d5\u05ea \u05de\u05d6\u05d5\u05df",options:["\u05db\u05df","\u05dc\u05d0","\u05d4\u05d9\u05d0 \u05dc\u05d0 \u05d0\u05d5\u05db\u05dc\u05ea"],answerIndex:0},{questionText:"\u05d4\u05d0\u05dd \u05d4\u05de\u05dc\u05db\u05d4 \u05d4\u05d9\u05d0 \u05d4\u05e0\u05de\u05dc\u05d4 \u05d4\u05d9\u05d7\u05d9\u05d3\u05d4 \u05d1\u05e7\u05df \u05e9\u05d9\u05db\u05d5\u05dc\u05d4 \u05dc\u05d4\u05ea\u05e8\u05d1\u05d5\u05ea",options:["\u05db\u05df ","\u05dc\u05d0"],answerIndex:0},{questionText:"\u05d1\u05d0\u05d9\u05d6\u05d4 \u05d9\u05d1\u05e9\u05ea \u05d0\u05d9\u05d9\u05df \u05e0\u05de\u05dc\u05d9\u05dd",options:["\u05e0\u05de\u05dc\u05d9\u05dd \u05d9\u05e9 \u05d1\u05db\u05dc \u05d4\u05d9\u05d1\u05e9\u05d5\u05ea ","\u05d0\u05d9\u05df \u05d1\u05d9\u05d1\u05e9\u05ea \u05d0\u05d5\u05e1\u05d8\u05e8\u05dc\u05d9\u05d4","\u05d0\u05d9\u05d9\u05df \u05e0\u05de\u05dc\u05d9\u05dd \u05d1\u05d9\u05d1\u05e9\u05ea \u05d0\u05e0\u05d8\u05e8\u05d8\u05d9\u05e7\u05d4"],answerIndex:2},{questionText:"\u05de\u05d4 \u05d0\u05d5\u05db\u05dc\u05d5\u05ea \u05e8\u05d5\u05d1 \u05d4\u05e0\u05de\u05dc\u05d9\u05dd",options:["\u05e8\u05e7 \u05d2\u05dc\u05d9\u05d3\u05d4 \u05d5\u05e0\u05d9\u05dc","\u05e8\u05d5\u05d1 \u05d4\u05e0\u05de\u05dc\u05d9\u05dd \u05d4\u05df \u05d0\u05d5\u05db\u05dc\u05d5\u05ea \u05db\u05dc","\u05e8\u05e7 \u05de\u05e6\u05d5\u05ea \u05e9\u05de\u05d5\u05e8\u05d5\u05ea \u05e9\u05dc \u05e4\u05e1\u05d7","\u05d0\u05d1\u05e0\u05d9\u05dd"],answerIndex:1}]),w=function(e){var n=e.onClose,t=e.question,o=Object(r.useState)(-1),c=Object(i.a)(o,2),a=c[0],u=c[1];return Object(d.jsx)(h.a,{show:!0,dir:"rtl",className:"question-modal",onHide:function(){return n(0)},children:Object(d.jsxs)(m.a,{dir:"rtl",children:[Object(d.jsx)(h.a.Header,{closeButton:!0,children:Object(d.jsx)(h.a.Title,{children:"\u05e2\u05e0\u05d4 \u05e2\u05dc \u05d4\u05e9\u05d0\u05dc\u05d4 \u05e0\u05db\u05d5\u05df \u05d5\u05e7\u05d1\u05dc \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"})}),Object(d.jsxs)(h.a.Body,{children:[t.questionText,t.options.map((function(e,n){return Object(d.jsx)(m.a.Check,{type:"radio",dir:"rtl",name:"answerOptions",onChange:function(){return u(n)},id:"default-radio",label:e},n)}))]}),Object(d.jsx)(h.a.Footer,{children:Object(d.jsx)(v.a,{variant:"primary",onClick:function(){var e=0;a===t.answerIndex&&(e=50),n(e)},children:"\u05e9\u05dc\u05d7"})})]})})},p=function e(){Object(s.a)(this,e)};p.LEFT="left",p.RIGHT="right",p.DOWON="down",p.UP="UP";var g,T=17,I=function(e){var n=e.onGameEnd,t=Object(r.useState)(),o=Object(i.a)(t,2),c=o[0],a=o[1],s=Object(r.useState)(0),l=Object(i.a)(s,2),j=l[0],O=l[1],h=Object(r.useState)([]),m=Object(i.a)(h,2),v=m[0],g=m[1],I=Object(r.useState)(p.RIGHT),y=Object(i.a)(I,2),S=y[0],k=y[1],P=Object(r.useState)([]),E=Object(i.a)(P,2),G=E[0],N=E[1],C=Object(r.useState)(!1),M=Object(i.a)(C,2),R=M[0],F=M[1],H=Object(r.useState)([]),q=Object(i.a)(H,2),L=q[0],U=q[1];Object(r.useEffect)((function(){U(f.suffulArray(x))}),[]);var D=Object(r.useState)(-1),W=Object(i.a)(D,2),A=W[0],B=W[1];Object(r.useEffect)((function(){z()}),[]);var z=function(){$(),J(),Q(),re()},J=function(){for(var e=0;e<8;e++)Y();N(G)},Q=function(){X(),document.onkeydown=function(e){return K(e)}},K=function(e){38===e.keyCode&&S!==p.DOWON?S=p.UP:40===e.keyCode&&S!==p.UP?S=p.DOWON:37===e.keyCode&&S!==p.RIGHT?S=p.LEFT:39===e.keyCode&&S!==p.LEFT&&(S=p.RIGHT),k(S)},V=function(){clearInterval(c)},X=function(){c=setInterval((function(){return ee()}),300),a(c)},Y=function(){var e=Z();e.value="food-".concat(f.createRandomInt(1,3)),G.push(e)},Z=function e(){var n=Math.floor(Math.random()*Math.floor(16)),t=Math.floor(Math.random()*Math.floor(16));return v.some((function(e){return e.row===n&&e.colm===t}))||G.some((function(e){return e.row===n&&e.colm===t}))?e():{row:n,colm:t}},$=function(){var e={row:Math.floor(8.5),colm:Math.floor(8.5),dir:p.RIGHT,value:"snakePart"};v.push(e);for(var n=0;n<3;n++)e=_(e,S),v.push(e);g(v)},_=function(e,n){var t=Object.assign({},e);switch(n){case p.LEFT:t.colm=t.colm-1;break;case p.RIGHT:t.colm=t.colm+1;break;case p.DOWON:t.row=t.row+1;break;case p.UP:t.row=t.row-1}return t},ee=function(){oe()&&te()},ne=function(){return v[v.length-1]},te=function(){V(),setTimeout((function(){return n()}),1e3)},re=function(){},oe=function(){var e=!1,n=_(ne(),S);if(!se(n))return e=!0;var t=v.shift();if(v.push(n),ce(),ue())return e=!0;var r=G.findIndex((function(e){return ie(e,n)}));return-1!==r&&(v.unshift(t),O(j+=10),G.splice(r,1),Y(),f.createRandomInt(0,6)>2&&function(){V();var e=A+1;console.log("newIndex",e,"QUESTIONS.length",x.length,e%x.length-1),B(e%(x.length-1)),console.log("halt game"),F(!0)}()),g(Object(u.a)(v)),N(Object(u.a)(G)),e},ce=function(){for(var e=0;e<v.length-1;e++){var n=ae(v[e],v[e+1]);v[e].dir=n}v[v.length-1].dir=S},ae=function(e,n){return e.colm>n.colm?p.LEFT:e.colm<n.colm?p.RIGHT:e.row<n.row?p.DOWON:e.row>n.row?p.UP:p.RIGHT},ie=function(e,n){return e.row===n.row&&e.colm===n.colm},ue=function(){for(var e=ne(),n=0;n<v.length-1;n++){var t=v[n];if(ie(e,t))return!0}return!1},se=function(e){return!(e.row>=T||e.row<0||e.colm>=16||e.colm<0)};return Object(d.jsx)("div",{className:"game-screen",children:Object(d.jsxs)("div",{className:"game-board",children:[Object(d.jsxs)("div",{className:"score",children:["\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea: ",j," "]}),Object(d.jsx)(b,{boardSize:T,snake:v,foods:G}),R?Object(d.jsx)(w,{question:L[A],onClose:function(e){O(j+=e),F(!1),X(),document.onkeydown=function(e){return K(e)}}}):null]})})},y=t(44),S=t.p+"static/media/closeup.8e44aa94.jpg",k=function(e){var n=e.onStart;return Object(d.jsx)("div",{className:"screen",children:Object(d.jsxs)(y.a,{style:{width:"38rem"},children:[Object(d.jsx)(y.a.Img,{variant:"top",src:S}),Object(d.jsxs)(y.a.Body,{children:[Object(d.jsx)(y.a.Title,{children:" \u05de\u05e9\u05d7\u05e7 \u05d4\u05e0\u05de\u05dc\u05d4"}),Object(d.jsx)(y.a.Text,{children:"\u05e9\u05d7\u05e7\u05d5 \u05d5\u05e2\u05e0\u05d5 \u05e2\u05dc \u05d4\u05e9\u05d0\u05dc\u05d5\u05ea "}),Object(d.jsx)(v.a,{variant:"primary",onClick:n,size:"lg",children:"\u05d4\u05ea\u05d7\u05dc \u05de\u05e9\u05d7\u05e7 \u05d7\u05d3\u05e9"})]})]})})},P=(t(37),t(23));!function(e){e.OpenScreen="OpenScreen",e.Game="Game"}(g||(g={}));var E=function(){var e=Object(P.a)("./bg-sound.mp3",{volume:.75,onPlayError:function(){return console.error("Error occured!")},onPlay:function(){return console.error("On Play")},onend:function(){console.info("Sound ended!")}}),n=Object(i.a)(e,2),t=n[0],o=n[1],c=(o.stop,o.isPlaying),a=Object(r.useState)(g.OpenScreen),u=Object(i.a)(a,2),s=u[0],l=u[1];return console.log({isPlaying:c}),Object(d.jsx)("div",{className:"App",children:s===g.OpenScreen?Object(d.jsx)(k,{onStart:function(){t(),l(g.Game)}}):Object(d.jsx)(I,{onGameEnd:function(){return l(g.OpenScreen)}})})},G=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,46)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),r(e),o(e),c(e),a(e)}))};a.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root")),G()}},[[38,1,2]]]);
//# sourceMappingURL=main.ca924033.chunk.js.map